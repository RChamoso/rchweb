
var socialPanels={config:{width:"500px",fixedcenter:false,x:parseInt((YD.getViewportWidth()/2)-250),y:50,close:false,draggable:false,zindex:4,modal:true,constraintoviewport:true,visible:false,timeTillClose:5000,imgHost:SM.hostConfig.cdnHost,goodIcon:'<img src="'+SM.hostConfig.imgPrefix+'besocial/checkmark.png">',badIcon:'<img src="'+SM.hostConfig.imgPrefix+'besocial/x.png">',loadingIcon:'<img src="'+SM.hostConfig.imgPrefix+'interstitial_loading.gif">'},init:function(yourConfig){if(yourConfig!==undefined){socialPanels.config=YAHOO.lang.merge(socialPanels.config,yourConfig);}
socialPanels.object=new YAHOO.widget.Panel("socialPanel",socialPanels.config);},close:function(){try{socialPanels.object.hide();}
catch(e){alert(e)}},resize:function(){var obj=YD.get('socialAccounts-iframe');obj.width=parseInt(YD.getViewportWidth()-50);obj.height=parseInt(YD.getViewportHeight()-50);socialPanels.object.center();},renderTemplate:function(templateName,message,autoClose,link,headerTxt){headerTxt=(typeof(headerTxt)=='undefined')?'':headerTxt;message=(typeof(message)=='undefined')?'Loading, please wait...':message;autoClose=(typeof(autoClose)=='undefined')?false:autoClose;template=socialPanels.templates(templateName,message,link);socialPanels.object.setHeader(headerTxt);socialPanels.object.setBody(template);socialPanels.object.render(document.body);socialPanels.object.show();if(autoClose){socialPanels.autoClose(autoClose);}},autoClose:function(timeToClose){timeToClose=(typeof(timeToClose)=='undefined')?socialPanels.config.timeTillClose:timeToClose;setTimeout('socialPanels.close()',timeToClose);},countDownTimer:function(timeToWait){socialPanels.renderTemplate('countDown');socialPanels.startTimer(timeToWait,'completionTime');},startTimer:function(timeToWait){var t;if(timeToWait==0){clearTimeout(t);YD.get('msgLine').innerHTML="Finishing Up...";}else{YD.get('completionTime').innerHTML=timeToWait;timeToWait=timeToWait-1;t=setTimeout(function(){socialPanels.startTimer(timeToWait);},1000);}},templates:function(template,displayText,link){var templateData=false;switch(template){case'badPost':templateData='<div style="text-align:center;font-size:1.5em;font-weight:bold;padding:20px;">{badIcon} Uh Oh! We\'ve encountered a problem:</div><div style="text-align:left;width:300px;margin: 0 auto;padding-top:25px;"><span style="font-weight:bold;">The Problem:</span>{message}</div><div style="text-align:right;margin-top:24px;padding-top:20px;"><span class="yui-button yui-link-button sm-button-small"><span class="first-child"><a href="#" onclick="socialPanels.close();return false;" >Close</a></span></span></div>';break;case'goodPost':templateData='<div style="text-align:center;font-size:1.5em;font-weight:bold;padding:20px;">{goodIcon} Posted! See it <a href="{link}" target="_blank">here</a>.</div><div  style="text-align:right;margin:24px 4px 12px 0px;"><span class="yui-button yui-link-button sm-button-small"><span class="first-child"><a href="#" onclick="socialPanels.close();return false;" >Close</a></span></span></div>';break;case'incorrectPermissions':templateData='I\m sorry, but your permissions are wrong. We need to fix those.';break;case'countDown':template='loading';displayText='Estimated Wait Time: <span id="completionTime"></span>';case'loading':displayText=(displayText.length>3)?'<p id="msgLine" align="center" style="font-size:1.3em;padding-top:5px;">'+displayText+'</p>':'';templateData=displayText+'<p align="center" style="padding-top:14px;">{loadingIcon}</p>';break;default:templateData='<p align="center">{loadingIcon}</p>';break;}
var d={goodIcon:socialPanels.config.goodIcon,badIcon:socialPanels.config.badIcon,loadingIcon:socialPanels.config.loadingIcon,message:displayText,link:link};templateData=socialPanels._parseTemplate(d,templateData);return templateData;},_parseTemplate:function(d,t){for(var j in d){t=t.split("{"+j+"}").join(d[j])}
return t;}};